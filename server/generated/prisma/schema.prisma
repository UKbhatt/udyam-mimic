generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Submission {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())

  // Step 1 (Aadhaar)
  aadhaar        String
  nameAsAadhaar  String?
  aadhaarConsent Boolean @default(false)
  otpVerified    Boolean @default(false)

  // Step 3 (PAN)
  orgType      String?
  pan          String
  nameAsPerPan String?
  dobdoiRaw    String?
  dobdoi       DateTime?
  panConsent   Boolean   @default(false)

  // Meta
  sourceIP String?
  payload  Json
  // Optional extra indexes if youâ€™ll query by these often:
  // @@index([aadhaar])
  // @@index([createdAt])

  @@index([pan])
}
